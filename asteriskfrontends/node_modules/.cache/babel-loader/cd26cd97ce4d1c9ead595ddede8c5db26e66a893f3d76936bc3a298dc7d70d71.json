{"ast":null,"code":"var _jsxFileName = \"/app/src/components/AsteriskWebRTCPhone.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from \"react\";\nimport JsSIP from \"jssip\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nJsSIP.debug.enable(\"JsSIP:*\");\nconst LOCAL_STORAGE_KEY = \"webrtc_extensions\";\nconst CALL_LOG_KEY = \"webrtc_call_logs\";\nconst defaultExtensions = [{\n  number: \"9008\",\n  label: \"SIP Phone\",\n  status: \"online\"\n}, {\n  number: \"93017\",\n  label: \"Zenitel\",\n  status: \"offline\"\n}, {\n  number: \"9002\",\n  label: \"Operator\",\n  status: \"online\"\n}, {\n  number: \"9003\",\n  label: \"Security\",\n  status: \"offline\"\n}];\nconst WebRTCPhone = () => {\n  _s();\n  const [ua, setUa] = useState(null);\n  const [session, setSession] = useState(null);\n  const [target, setTarget] = useState(\"\");\n  const [status, setStatus] = useState(\"ðŸ”´ Offline\");\n  const [incomingSession, setIncomingSession] = useState(null);\n  const [caller, setCaller] = useState(\"\");\n  const [callStartTime, setCallStartTime] = useState(null);\n  const [callDuration, setCallDuration] = useState(\"00:00\");\n  const [editMode, setEditMode] = useState(false);\n  const [extensions, setExtensions] = useState(() => {\n    const stored = localStorage.getItem(LOCAL_STORAGE_KEY);\n    return stored ? JSON.parse(stored) : defaultExtensions;\n  });\n  const [showLogs, setShowLogs] = useState(false);\n  const [callLogs, setCallLogs] = useState(() => {\n    const stored = localStorage.getItem(CALL_LOG_KEY);\n    return stored ? JSON.parse(stored) : [];\n  });\n  const [newExt, setNewExt] = useState(\"\");\n  const [newLabel, setNewLabel] = useState(\"\");\n  const durationInterval = useRef(null);\n  const ringtoneRef = useRef(null);\n  const remoteAudioRef = useRef(null);\n  useEffect(() => {\n    const socket = new JsSIP.WebSocketInterface(\"wss://10.30.250.50:8089/ws\");\n    const configuration = {\n      sockets: [socket],\n      uri: \"sip:9001@10.30.250.50\",\n      password: \"1234\",\n      display_name: \"WebRTC Client\",\n      session_timers: false,\n      register: true\n    };\n    const userAgent = new JsSIP.UA(configuration);\n    setUa(userAgent);\n    userAgent.start();\n    userAgent.on(\"registered\", () => setStatus(\"ðŸŸ¢ Online\"));\n    userAgent.on(\"registrationFailed\", () => setStatus(\"ðŸ”´ Offline\"));\n    userAgent.on(\"disconnected\", () => setStatus(\"ðŸ”´ Offline\"));\n    userAgent.on(\"newRTCSession\", ({\n      originator,\n      session\n    }) => {\n      if (originator === \"remote\") {\n        var _ringtoneRef$current;\n        setCaller(session.remote_identity.uri.toString());\n        setIncomingSession(session);\n        (_ringtoneRef$current = ringtoneRef.current) === null || _ringtoneRef$current === void 0 ? void 0 : _ringtoneRef$current.play();\n        attachRemoteStream(session);\n        sessionEvents(session, session.remote_identity.uri.user, \"Me\");\n      }\n    });\n    return () => userAgent.stop();\n  }, []);\n  const attachRemoteStream = session => {\n    session.connection.addEventListener(\"track\", e => {\n      if (remoteAudioRef.current && e.streams.length > 0) {\n        remoteAudioRef.current.srcObject = e.streams[0];\n      }\n    });\n  };\n  const sessionEvents = (session, from, to) => {\n    session.on(\"accepted\", () => {\n      setStatus(\"ðŸ“ž In Call\");\n      stopRingtone();\n      const now = Date.now();\n      setCallStartTime(now);\n      startTimer(now);\n    });\n    session.on(\"ended\", () => {\n      const duration = callDuration;\n      logCall({\n        from,\n        to,\n        duration\n      });\n      endCall();\n    });\n    session.on(\"failed\", () => {\n      const duration = callDuration;\n      logCall({\n        from,\n        to,\n        duration\n      });\n      endCall();\n    });\n  };\n  const logCall = ({\n    from,\n    to,\n    duration\n  }) => {\n    const log = {\n      from,\n      to,\n      duration,\n      timestamp: new Date().toLocaleString()\n    };\n    const updatedLogs = [log, ...callLogs];\n    setCallLogs(updatedLogs);\n    localStorage.setItem(CALL_LOG_KEY, JSON.stringify(updatedLogs));\n  };\n  const startTimer = startTime => {\n    stopTimer();\n    durationInterval.current = setInterval(() => {\n      const seconds = Math.floor((Date.now() - startTime) / 1000);\n      const mins = String(Math.floor(seconds / 60)).padStart(2, \"0\");\n      const secs = String(seconds % 60).padStart(2, \"0\");\n      setCallDuration(`${mins}:${secs}`);\n    }, 1000);\n  };\n  const stopTimer = () => {\n    clearInterval(durationInterval.current);\n    setCallDuration(\"00:00\");\n    setCallStartTime(null);\n  };\n  const stopRingtone = () => {\n    if (ringtoneRef.current) {\n      ringtoneRef.current.pause();\n      ringtoneRef.current.currentTime = 0;\n    }\n  };\n  const endCall = () => {\n    stopTimer();\n    stopRingtone();\n    setStatus(\"ðŸŸ¢ Online\");\n    setIncomingSession(null);\n    setSession(null);\n    setCaller(\"\");\n    if (remoteAudioRef.current) remoteAudioRef.current.srcObject = null;\n  };\n  const handleCall = () => {\n    if (!ua || !ua.isRegistered()) return alert(\"âŒ SIP not connected.\");\n    if (!target) return alert(\"Select an extension!\");\n    setStatus(`ðŸ“² Dialing ${target}...`);\n    const newSession = ua.call(`sip:${target}@10.30.250.50`, {\n      mediaConstraints: {\n        audio: true,\n        video: false\n      }\n    });\n    attachRemoteStream(newSession);\n    sessionEvents(newSession, \"Me\", target);\n    setSession(newSession);\n  };\n  const handleAnswer = () => {\n    if (!incomingSession) return;\n    incomingSession.answer({\n      mediaConstraints: {\n        audio: true,\n        video: false\n      }\n    });\n    attachRemoteStream(incomingSession);\n    sessionEvents(incomingSession, caller, \"Me\");\n    setSession(incomingSession);\n    setIncomingSession(null);\n  };\n  const handleReject = () => {\n    incomingSession === null || incomingSession === void 0 ? void 0 : incomingSession.terminate();\n    stopRingtone();\n    setIncomingSession(null);\n  };\n  const handleHangup = () => {\n    session === null || session === void 0 ? void 0 : session.terminate();\n    endCall();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"flex\",\n      justifyContent: \"center\",\n      alignItems: \"center\",\n      height: \"100vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: 480,\n        width: \"100%\",\n        background: \"#f9f9f9\",\n        padding: 20,\n        borderRadius: 12,\n        boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"WebRTC Phone\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Status: \", status]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        value: target,\n        onChange: e => setTarget(e.target.value),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Extension\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), extensions.map(ext => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: ext.number,\n          children: [ext.label, \" (\", ext.number, \")\"]\n        }, ext.number, true, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleCall,\n          children: \"Call\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleHangup,\n          children: \"Hang Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), incomingSession && /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Incoming call from \", caller]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleAnswer,\n            children: \"Answer\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleReject,\n            children: \"Reject\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Call Duration: \", callDuration]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        ref: ringtoneRef,\n        src: \"/ringtone.mp3\",\n        loop: true,\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        ref: remoteAudioRef,\n        autoPlay: true,\n        hidden: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 174,\n    columnNumber: 5\n  }, this);\n};\n_s(WebRTCPhone, \"kUp7ON364eT062QBoSQNeA1W690=\");\n_c = WebRTCPhone;\nexport default WebRTCPhone;\nvar _c;\n$RefreshReg$(_c, \"WebRTCPhone\");","map":{"version":3,"names":["React","useEffect","useState","useRef","JsSIP","jsxDEV","_jsxDEV","Fragment","_Fragment","debug","enable","LOCAL_STORAGE_KEY","CALL_LOG_KEY","defaultExtensions","number","label","status","WebRTCPhone","_s","ua","setUa","session","setSession","target","setTarget","setStatus","incomingSession","setIncomingSession","caller","setCaller","callStartTime","setCallStartTime","callDuration","setCallDuration","editMode","setEditMode","extensions","setExtensions","stored","localStorage","getItem","JSON","parse","showLogs","setShowLogs","callLogs","setCallLogs","newExt","setNewExt","newLabel","setNewLabel","durationInterval","ringtoneRef","remoteAudioRef","socket","WebSocketInterface","configuration","sockets","uri","password","display_name","session_timers","register","userAgent","UA","start","on","originator","_ringtoneRef$current","remote_identity","toString","current","play","attachRemoteStream","sessionEvents","user","stop","connection","addEventListener","e","streams","length","srcObject","from","to","stopRingtone","now","Date","startTimer","duration","logCall","endCall","log","timestamp","toLocaleString","updatedLogs","setItem","stringify","startTime","stopTimer","setInterval","seconds","Math","floor","mins","String","padStart","secs","clearInterval","pause","currentTime","handleCall","isRegistered","alert","newSession","call","mediaConstraints","audio","video","handleAnswer","answer","handleReject","terminate","handleHangup","style","display","justifyContent","alignItems","height","children","maxWidth","width","background","padding","borderRadius","boxShadow","textAlign","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","map","ext","onClick","ref","src","loop","hidden","autoPlay","_c","$RefreshReg$"],"sources":["/app/src/components/AsteriskWebRTCPhone.jsx"],"sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport JsSIP from \"jssip\";\nJsSIP.debug.enable(\"JsSIP:*\");\n\nconst LOCAL_STORAGE_KEY = \"webrtc_extensions\";\nconst CALL_LOG_KEY = \"webrtc_call_logs\";\n\nconst defaultExtensions = [\n  { number: \"9008\", label: \"SIP Phone\", status: \"online\" },\n  { number: \"93017\", label: \"Zenitel\", status: \"offline\" },\n  { number: \"9002\", label: \"Operator\", status: \"online\" },\n  { number: \"9003\", label: \"Security\", status: \"offline\" },\n];\n\nconst WebRTCPhone = () => {\n  const [ua, setUa] = useState(null);\n  const [session, setSession] = useState(null);\n  const [target, setTarget] = useState(\"\");\n  const [status, setStatus] = useState(\"ðŸ”´ Offline\");\n  const [incomingSession, setIncomingSession] = useState(null);\n  const [caller, setCaller] = useState(\"\");\n  const [callStartTime, setCallStartTime] = useState(null);\n  const [callDuration, setCallDuration] = useState(\"00:00\");\n  const [editMode, setEditMode] = useState(false);\n  const [extensions, setExtensions] = useState(() => {\n    const stored = localStorage.getItem(LOCAL_STORAGE_KEY);\n    return stored ? JSON.parse(stored) : defaultExtensions;\n  });\n  const [showLogs, setShowLogs] = useState(false);\n  const [callLogs, setCallLogs] = useState(() => {\n    const stored = localStorage.getItem(CALL_LOG_KEY);\n    return stored ? JSON.parse(stored) : [];\n  });\n  const [newExt, setNewExt] = useState(\"\");\n  const [newLabel, setNewLabel] = useState(\"\");\n  const durationInterval = useRef(null);\n  const ringtoneRef = useRef(null);\n  const remoteAudioRef = useRef(null);\n\n  useEffect(() => {\n    const socket = new JsSIP.WebSocketInterface(\"wss://10.30.250.50:8089/ws\");\n    const configuration = {\n      sockets: [socket],\n      uri: \"sip:9001@10.30.250.50\",\n      password: \"1234\",\n      display_name: \"WebRTC Client\",\n      session_timers: false,\n      register: true,\n    };\n    const userAgent = new JsSIP.UA(configuration);\n    setUa(userAgent);\n    userAgent.start();\n    userAgent.on(\"registered\", () => setStatus(\"ðŸŸ¢ Online\"));\n    userAgent.on(\"registrationFailed\", () => setStatus(\"ðŸ”´ Offline\"));\n    userAgent.on(\"disconnected\", () => setStatus(\"ðŸ”´ Offline\"));\n    userAgent.on(\"newRTCSession\", ({ originator, session }) => {\n      if (originator === \"remote\") {\n        setCaller(session.remote_identity.uri.toString());\n        setIncomingSession(session);\n        ringtoneRef.current?.play();\n        attachRemoteStream(session);\n        sessionEvents(session, session.remote_identity.uri.user, \"Me\");\n      }\n    });\n    return () => userAgent.stop();\n  }, []);\n\n  const attachRemoteStream = (session) => {\n    session.connection.addEventListener(\"track\", (e) => {\n      if (remoteAudioRef.current && e.streams.length > 0) {\n        remoteAudioRef.current.srcObject = e.streams[0];\n      }\n    });\n  };\n\n  const sessionEvents = (session, from, to) => {\n    session.on(\"accepted\", () => {\n      setStatus(\"ðŸ“ž In Call\");\n      stopRingtone();\n      const now = Date.now();\n      setCallStartTime(now);\n      startTimer(now);\n    });\n    session.on(\"ended\", () => {\n      const duration = callDuration;\n      logCall({ from, to, duration });\n      endCall();\n    });\n    session.on(\"failed\", () => {\n      const duration = callDuration;\n      logCall({ from, to, duration });\n      endCall();\n    });\n  };\n\n  const logCall = ({ from, to, duration }) => {\n    const log = {\n      from,\n      to,\n      duration,\n      timestamp: new Date().toLocaleString(),\n    };\n    const updatedLogs = [log, ...callLogs];\n    setCallLogs(updatedLogs);\n    localStorage.setItem(CALL_LOG_KEY, JSON.stringify(updatedLogs));\n  };\n\n  const startTimer = (startTime) => {\n    stopTimer();\n    durationInterval.current = setInterval(() => {\n      const seconds = Math.floor((Date.now() - startTime) / 1000);\n      const mins = String(Math.floor(seconds / 60)).padStart(2, \"0\");\n      const secs = String(seconds % 60).padStart(2, \"0\");\n      setCallDuration(`${mins}:${secs}`);\n    }, 1000);\n  };\n\n  const stopTimer = () => {\n    clearInterval(durationInterval.current);\n    setCallDuration(\"00:00\");\n    setCallStartTime(null);\n  };\n\n  const stopRingtone = () => {\n    if (ringtoneRef.current) {\n      ringtoneRef.current.pause();\n      ringtoneRef.current.currentTime = 0;\n    }\n  };\n\n  const endCall = () => {\n    stopTimer();\n    stopRingtone();\n    setStatus(\"ðŸŸ¢ Online\");\n    setIncomingSession(null);\n    setSession(null);\n    setCaller(\"\");\n    if (remoteAudioRef.current) remoteAudioRef.current.srcObject = null;\n  };\n\n  const handleCall = () => {\n    if (!ua || !ua.isRegistered()) return alert(\"âŒ SIP not connected.\");\n    if (!target) return alert(\"Select an extension!\");\n    setStatus(`ðŸ“² Dialing ${target}...`);\n    const newSession = ua.call(`sip:${target}@10.30.250.50`, {\n      mediaConstraints: { audio: true, video: false },\n    });\n    attachRemoteStream(newSession);\n    sessionEvents(newSession, \"Me\", target);\n    setSession(newSession);\n  };\n\n  const handleAnswer = () => {\n    if (!incomingSession) return;\n    incomingSession.answer({ mediaConstraints: { audio: true, video: false } });\n    attachRemoteStream(incomingSession);\n    sessionEvents(incomingSession, caller, \"Me\");\n    setSession(incomingSession);\n    setIncomingSession(null);\n  };\n\n  const handleReject = () => {\n    incomingSession?.terminate();\n    stopRingtone();\n    setIncomingSession(null);\n  };\n\n  const handleHangup = () => {\n    session?.terminate();\n    endCall();\n  };\n\n  return (\n    <div style={{ display: \"flex\", justifyContent: \"center\", alignItems: \"center\", height: \"100vh\" }}>\n      <div style={{ maxWidth: 480, width: \"100%\", background: \"#f9f9f9\", padding: 20, borderRadius: 12, boxShadow: \"0 2px 10px rgba(0,0,0,0.1)\" }}>\n        <h2 style={{ textAlign: \"center\" }}>WebRTC Phone</h2>\n        <p>Status: {status}</p>\n        <select value={target} onChange={(e) => setTarget(e.target.value)}>\n          <option value=\"\">Select Extension</option>\n          {extensions.map((ext) => (\n            <option key={ext.number} value={ext.number}>\n              {ext.label} ({ext.number})\n            </option>\n          ))}\n        </select>\n        <div>\n          <button onClick={handleCall}>Call</button>\n          <button onClick={handleHangup}>Hang Up</button>\n          {incomingSession && (\n            <>\n              <p>Incoming call from {caller}</p>\n              <button onClick={handleAnswer}>Answer</button>\n              <button onClick={handleReject}>Reject</button>\n            </>\n          )}\n        </div>\n        <p>Call Duration: {callDuration}</p>\n        <audio ref={ringtoneRef} src=\"/ringtone.mp3\" loop hidden />\n        <audio ref={remoteAudioRef} autoPlay hidden />\n      </div>\n    </div>\n  );\n};\n\nexport default WebRTCPhone;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}