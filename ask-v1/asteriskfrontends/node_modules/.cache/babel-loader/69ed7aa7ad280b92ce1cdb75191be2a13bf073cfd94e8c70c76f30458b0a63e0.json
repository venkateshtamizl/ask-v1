{"ast":null,"code":"\"use strict\";\n\nvar Logger = require('./Logger');\nvar Utils = require('./Utils');\nvar Grammar = require('./Grammar');\nvar logger = new Logger('Socket');\n/**\n * Interface documentation: https://jssip.net/documentation/$last_version/api/socket/\n *\n * interface Socket {\n *  attribute String via_transport\n *  attribute String url\n *  attribute String sip_uri\n *\n *  method connect();\n *  method disconnect();\n *  method send(data);\n *\n *  attribute EventHandler onconnect\n *  attribute EventHandler ondisconnect\n *  attribute EventHandler ondata\n * }\n *\n */\n\nexports.isSocket = function (socket) {\n  // Ignore if an array is given.\n  if (Array.isArray(socket)) {\n    return false;\n  }\n  if (typeof socket === 'undefined') {\n    logger.warn('undefined JsSIP.Socket instance');\n    return false;\n  } // Check Properties.\n\n  try {\n    if (!Utils.isString(socket.url)) {\n      logger.warn('missing or invalid JsSIP.Socket url property');\n      throw new Error('Missing or invalid JsSIP.Socket url property');\n    }\n    if (!Utils.isString(socket.via_transport)) {\n      logger.warn('missing or invalid JsSIP.Socket via_transport property');\n      throw new Error('Missing or invalid JsSIP.Socket via_transport property');\n    }\n    if (Grammar.parse(socket.sip_uri, 'SIP_URI') === -1) {\n      logger.warn('missing or invalid JsSIP.Socket sip_uri property');\n      throw new Error('missing or invalid JsSIP.Socket sip_uri property');\n    }\n  } catch (e) {\n    return false;\n  } // Check Methods.\n\n  try {\n    ['connect', 'disconnect', 'send'].forEach(function (method) {\n      if (!Utils.isFunction(socket[method])) {\n        logger.warn(\"missing or invalid JsSIP.Socket method: \".concat(method));\n        throw new Error(\"Missing or invalid JsSIP.Socket method: \".concat(method));\n      }\n    });\n  } catch (e) {\n    return false;\n  }\n  return true;\n};","map":{"version":3,"names":["Logger","require","Utils","Grammar","logger","exports","isSocket","socket","Array","isArray","warn","isString","url","Error","via_transport","parse","sip_uri","e","forEach","method","isFunction","concat"],"sources":["/etc/asterisk/webrtc-phone/node_modules/jssip/lib-es5/Socket.js"],"sourcesContent":["\"use strict\";\n\nvar Logger = require('./Logger');\n\nvar Utils = require('./Utils');\n\nvar Grammar = require('./Grammar');\n\nvar logger = new Logger('Socket');\n/**\n * Interface documentation: https://jssip.net/documentation/$last_version/api/socket/\n *\n * interface Socket {\n *  attribute String via_transport\n *  attribute String url\n *  attribute String sip_uri\n *\n *  method connect();\n *  method disconnect();\n *  method send(data);\n *\n *  attribute EventHandler onconnect\n *  attribute EventHandler ondisconnect\n *  attribute EventHandler ondata\n * }\n *\n */\n\nexports.isSocket = function (socket) {\n  // Ignore if an array is given.\n  if (Array.isArray(socket)) {\n    return false;\n  }\n\n  if (typeof socket === 'undefined') {\n    logger.warn('undefined JsSIP.Socket instance');\n    return false;\n  } // Check Properties.\n\n\n  try {\n    if (!Utils.isString(socket.url)) {\n      logger.warn('missing or invalid JsSIP.Socket url property');\n      throw new Error('Missing or invalid JsSIP.Socket url property');\n    }\n\n    if (!Utils.isString(socket.via_transport)) {\n      logger.warn('missing or invalid JsSIP.Socket via_transport property');\n      throw new Error('Missing or invalid JsSIP.Socket via_transport property');\n    }\n\n    if (Grammar.parse(socket.sip_uri, 'SIP_URI') === -1) {\n      logger.warn('missing or invalid JsSIP.Socket sip_uri property');\n      throw new Error('missing or invalid JsSIP.Socket sip_uri property');\n    }\n  } catch (e) {\n    return false;\n  } // Check Methods.\n\n\n  try {\n    ['connect', 'disconnect', 'send'].forEach(function (method) {\n      if (!Utils.isFunction(socket[method])) {\n        logger.warn(\"missing or invalid JsSIP.Socket method: \".concat(method));\n        throw new Error(\"Missing or invalid JsSIP.Socket method: \".concat(method));\n      }\n    });\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n};"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,MAAM,GAAGC,OAAO,CAAC,UAAU,CAAC;AAEhC,IAAIC,KAAK,GAAGD,OAAO,CAAC,SAAS,CAAC;AAE9B,IAAIE,OAAO,GAAGF,OAAO,CAAC,WAAW,CAAC;AAElC,IAAIG,MAAM,GAAG,IAAIJ,MAAM,CAAC,QAAQ,CAAC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEAK,OAAO,CAACC,QAAQ,GAAG,UAAUC,MAAM,EAAE;EACnC;EACA,IAAIC,KAAK,CAACC,OAAO,CAACF,MAAM,CAAC,EAAE;IACzB,OAAO,KAAK;EACd;EAEA,IAAI,OAAOA,MAAM,KAAK,WAAW,EAAE;IACjCH,MAAM,CAACM,IAAI,CAAC,iCAAiC,CAAC;IAC9C,OAAO,KAAK;EACd,CAAC,CAAC;;EAGF,IAAI;IACF,IAAI,CAACR,KAAK,CAACS,QAAQ,CAACJ,MAAM,CAACK,GAAG,CAAC,EAAE;MAC/BR,MAAM,CAACM,IAAI,CAAC,8CAA8C,CAAC;MAC3D,MAAM,IAAIG,KAAK,CAAC,8CAA8C,CAAC;IACjE;IAEA,IAAI,CAACX,KAAK,CAACS,QAAQ,CAACJ,MAAM,CAACO,aAAa,CAAC,EAAE;MACzCV,MAAM,CAACM,IAAI,CAAC,wDAAwD,CAAC;MACrE,MAAM,IAAIG,KAAK,CAAC,wDAAwD,CAAC;IAC3E;IAEA,IAAIV,OAAO,CAACY,KAAK,CAACR,MAAM,CAACS,OAAO,EAAE,SAAS,CAAC,KAAK,CAAC,CAAC,EAAE;MACnDZ,MAAM,CAACM,IAAI,CAAC,kDAAkD,CAAC;MAC/D,MAAM,IAAIG,KAAK,CAAC,kDAAkD,CAAC;IACrE;EACF,CAAC,CAAC,OAAOI,CAAC,EAAE;IACV,OAAO,KAAK;EACd,CAAC,CAAC;;EAGF,IAAI;IACF,CAAC,SAAS,EAAE,YAAY,EAAE,MAAM,CAAC,CAACC,OAAO,CAAC,UAAUC,MAAM,EAAE;MAC1D,IAAI,CAACjB,KAAK,CAACkB,UAAU,CAACb,MAAM,CAACY,MAAM,CAAC,CAAC,EAAE;QACrCf,MAAM,CAACM,IAAI,CAAC,0CAA0C,CAACW,MAAM,CAACF,MAAM,CAAC,CAAC;QACtE,MAAM,IAAIN,KAAK,CAAC,0CAA0C,CAACQ,MAAM,CAACF,MAAM,CAAC,CAAC;MAC5E;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOF,CAAC,EAAE;IACV,OAAO,KAAK;EACd;EAEA,OAAO,IAAI;AACb,CAAC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}